<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <title></title>
</head>
<body>
  <div id="app">
    <p>{{ foo }}</p>
    obj.foo는 더이상 변하지 않습니다!
    <button v-on:click="foo = 'baz'">Change it</button>
  </div>


  <script>

    // 데이터 객체
    var data = { a: 1 }

    // Vue인스턴스에 데이터 객체를 추가합니다.
    var vm = new Vue({
      data: data
    })

    console.log("초기 상태 ==> data:", data.a, "vm:", vm.a);

    // 인스턴스에 있는 속성은
    // 원본 데이터에 있는 값을 반환합니다.
    vm.a === data.a // => true

    console.log("vm.a === data.a", vm.a === data.a);

    // 인스턴스에 있는 속성값을 변경하면
    // 원본 데이터에도 영향을 미칩니다.
    vm.a = 2
    data.a // => 2

    console.log("vm.a = 2 수정 시 data:", data.a, "vm:", vm.a);

    // ... 반대로 마찬가지입니다.
    data.a = 3
    vm.a // => 3

    console.log("data.a = 3 수정 시 data:", data.a, "vm:", vm.a);

    // 따라서 어떤 속성이 나중에 필요한 경우 초기값을 지정해서 사용하면 된다.
    //  data: {
    //     newTodoText: '',
    //     visitCount: 0,
    //     hideCompletedTodos: false,
    //     todos: [],
    //     error: null
    // }

    // 유일한 예외는 Object.freeze ()를 사용하는 경우입니다.
    // 이는 기존 속성이 변경되는 것을 막아 반응성 시스템이 추적할 수 없다는 것을 의미합니다.
    var obj = {
      foo: 'bar'
    }

    Object.freeze(obj)

    new Vue({
      el: '#app',
      data: obj
    })
  </script>
</body>
</html>